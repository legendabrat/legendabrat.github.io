<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>–ö—Ä—É—Ç–∏–º –±–∞—Ä–∞–±–∞–Ω</title>

<style>
body{
  margin:0;
  background:#111;
  color:white;
  font-family:Arial;
  display:flex;
  flex-direction:column;
  align-items:center;
}

h1{
  margin-top:20px;
}

.container{
  position:relative;
  margin-top:20px;
}

canvas{
  border-radius:50%;
  border:8px solid #333;
}

.arrow{
  position:absolute;
  left:-40px;
  top:50%;
  transform:translateY(-50%) rotate(180deg);
  width:0;
  height:0;
  border-top:15px solid transparent;
  border-bottom:15px solid transparent;
  border-right:30px solid white;
}

.controls{
  margin-top:20px;
}

input{
  padding:8px;
  font-size:16px;
}

button{
  padding:8px 15px;
  font-size:16px;
  cursor:pointer;
  margin-left:5px;
}

@keyframes idleSpin{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}
</style>
</head>
<body>

<h1>üéØ –ö—Ä—É—Ç–∏–º –±–∞—Ä–∞–±–∞–Ω</h1>

<div class="container">
  <div class="arrow"></div>
  <canvas id="wheel" width="400" height="400"></canvas>
</div>

<div class="controls">
  <input type="text" id="nameInput" placeholder="–í–≤–µ–¥–∏—Ç–µ –∏–º—è">
  <button onclick="addName()">–î–æ–±–∞–≤–∏—Ç—å</button>
  <button onclick="spin()">–ö—Ä—É—Ç–∏—Ç—å</button>
</div>

<script>
const canvas = document.getElementById("wheel");
const ctx = canvas.getContext("2d");

let names = ["–ò–≥—Ä–æ–∫ 1","–ò–≥—Ä–æ–∫ 2","–ò–≥—Ä–æ–∫ 3","–ò–≥—Ä–æ–∫ 4","–ò–≥—Ä–æ–∫ 5","–ò–≥—Ä–æ–∫ 6","–ò–≥—Ä–æ–∫ 7","–ò–≥—Ä–æ–∫ 8"];

const colors = ["#ff0000","#ffff00","#0000ff","#00ff00"];
let angle = 0;
let spinning = false;

function drawWheel(){
  ctx.clearRect(0,0,400,400);
  const arc = 2*Math.PI / names.length;

  for(let i=0;i<names.length;i++){
    ctx.beginPath();
    ctx.fillStyle = colors[i % colors.length];
    ctx.moveTo(200,200);
    ctx.arc(200,200,200,arc*i,arc*(i+1));
    ctx.fill();

    ctx.save();
    ctx.translate(200,200);
    ctx.rotate(arc*i + arc/2);
    ctx.fillStyle="black";
    ctx.font="16px Arial";
    ctx.fillText(names[i],120,5);
    ctx.restore();
  }
}

drawWheel();

canvas.style.animation="idleSpin 25s linear infinite";

function addName(){
  const input = document.getElementById("nameInput");
  if(input.value.trim()==="") return;
  names.push(input.value.trim());
  input.value="";
  drawWheel();
}

function spin(){
  if(spinning) return;
  spinning=true;

  canvas.style.animation="none";

  let spins = 5 + Math.random()*5;
  angle += spins*360;

  canvas.style.transition="transform 5s cubic-bezier(.17,.67,.83,.67)";
  canvas.style.transform=`rotate(${angle}deg)`;

  setTimeout(()=>{
    spinning=false;
    canvas.style.animation="idleSpin 25s linear infinite";
  },5000);
}
</script>

</body>
</html>
